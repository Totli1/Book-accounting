## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É—á–µ—Ç–∞ –∫–Ω–∏–≥ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:

–î–æ–±–∞–≤–ª–µ–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏—è –∏ –ø–æ–∏—Å–∫–∞ –∫–Ω–∏–≥.

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ CSV (–¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Excel) –∏ JSON (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏).

–ó–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É

–í–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è, –∞–≤—Ç–æ—Ä–∞, –≥–æ–¥–∞ –∏–∑–¥–∞–Ω–∏—è.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ ID.

–£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É

–ü–æ ID.

–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏

–ü–æ–∏—Å–∫ –∫–Ω–∏–≥–∏

–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∞–≤—Ç–æ—Ä—É –∏–ª–∏ –≥–æ–¥—É.

–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ CSV –∏ JSON.

–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
```bash
1. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É | 2. –£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É | 3. –°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ | 4. –ü–æ–∏—Å–∫ | 5. –í—ã—Ö–æ–¥
> 1
–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: –í–æ–π–Ω–∞ –∏ –º–∏—Ä
–í–≤–µ–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞: –¢–æ–ª—Å—Ç–æ–π
–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥: 1869
–ö–Ω–∏–≥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞!

> 3
0. –ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ (–î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π, 1866)
1. –í–æ–π–Ω–∞ –∏ –º–∏—Ä (–¢–æ–ª—Å—Ç–æ–π, 1869)
```
![image](https://github.com/user-attachments/assets/037729e4-468b-44b6-9546-40c293e36e96)

–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ books.json:
## üìö –ü—Ä–∏–º–µ—Ä JSON —Å –∫–Ω–∏–≥–∞–º–∏  
```json
[
  {
    "Id": 0,
    "Title": "–í–æ–π–Ω–∞ –∏ –º–∏—Ä",
    "Author": "–¢–æ–ª—Å—Ç–æ–π",
    "Year": 1869
  },
  {
    "Id": 1,
    "Title": "–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ",
    "Author": "–î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π",
    "Year": 1866
  }
]
```
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–ö–ª–∞—Å—Å Book
```csharp
class Book
{
    public int Id { get; set; }
    public string Title { get; set; }
    public string Author { get; set; }
    public int Year { get; set; }
    public Book(int id, string title, string author, int year)
    {
        Id = id;
        Title = title;
        Author = author;
        Year = year;
    }
}
```
## –ö–ª–∞—Å—Å Library (–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–∏–≥–∞–º–∏)
```csharp
 class Library
{
    private List<Book> _books = FileManager.LoadFromJson("books.json");

    public void AddBook(Book book) => _books.Add(book);
    
    public void RemoveBook(int id) => _books.RemoveAt(id);
    
    public List<Book> GetAllBooks() => _books;

    public List<Book> SearchBooks(string choice,string keyword)
    {
        var booksFind = choice switch
        {
            "1" => _books.FindAll(x => x.Id == int.Parse(keyword)),
            "2" => _books.Where(x => x.Title.StartsWith(keyword,StringComparison.OrdinalIgnoreCase)).ToList(),
            "3" => _books.FindAll(x => x.Author.StartsWith(keyword, StringComparison.OrdinalIgnoreCase)).ToList(),
            "4" => _books.FindAll(x => x.Year == int.Parse(keyword)),
            _ => _books
        };
        return booksFind;

    }
    
}
 ```

## –ö–ª–∞—Å—Å FileManager (—Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏)
```csharp
 static class FileManager
{ 
    public static void SaveToCsv(List<Book> books, string filePath)
    {
        var lines = new List<string> { "ID,Title,Author,Year" };
        lines.AddRange(books.Select(b => $"{b.Id},{b.Title},{b.Author},{b.Year}"));
        File.WriteAllLines(filePath, lines);
    }

    public static void SaveToJson(List<Book> books, string filePath)
    {

        var options = new JsonSerializerOptions
        {
            WriteIndented = true,
            IncludeFields = true,
            Encoder = JavaScriptEncoder.Create(UnicodeRanges.BasicLatin, UnicodeRanges.Cyrillic),
            TypeInfoResolver = new DefaultJsonTypeInfoResolver()
        };

        string json = JsonSerializer.Serialize(books, options);
        File.WriteAllText(filePath, json);
    }
    public static List<Book> LoadFromJson(string filePath)
    {
        try
        {
            var options = new JsonSerializerOptions
            {
                TypeInfoResolver = new DefaultJsonTypeInfoResolver()
            };
            string json = File.ReadAllText(filePath);
            return JsonSerializer.Deserialize<List<Book>>(json, options);
        }
        catch (JsonException)
        {
           
            return new List<Book>();
        }
    }


}
```

## –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```csharp
static void Main(string[] args)
{
        var library = new Library();
        int id = 0;

     
    
    while (true)
    {
        Console.WriteLine("1. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É | 2. –£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É | 3. –°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ | 4. –ü–æ–∏—Å–∫ | 5. –í—ã–π—Ç–∏");
        var books = FileManager.LoadFromJson("books.json");
        var choice = Console.ReadLine();
        string name = null, author = null;
        int year = 0;
        switch (choice)
        {
            case "1":
                try
                {
                    Console.Write("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:");
                    name = Console.ReadLine();
                    Console.Write("–í–≤–µ–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞:");
                    author = Console.ReadLine();
                    Console.Write("–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥:");
                    year = int.Parse(Console.ReadLine());

                    if (books.Count != 0) id = books[books.Count - 1].Id + 1;

                    var book = new Book(id, name, author, year);
                    library.AddBook(book);
                    FileManager.SaveToJson(library.GetAllBooks(), "books.json");

                    Console.WriteLine("–ö–Ω–∏–≥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞!");
                }
                catch 
                {
                    Console.WriteLine("–û—à–∏–±–∫–∞");
                }
                break;
            case "2":
                try
                {
                    Console.Write("–í–≤–µ–¥–∏—Ç–µ id: ");
                    int idRemove = int.Parse(Console.ReadLine());
                    library.RemoveBook(idRemove);
                    FileManager.SaveToJson(library.GetAllBooks(), "books.json");
                }
                catch
                {
                    Console.WriteLine("–û—à–∏–±–∫–∞");
                }
                
                break;

            case "3":
                foreach (var b in library.GetAllBooks())
                    Console.WriteLine($"{b.Id}. {b.Title} ({b.Author}, {b.Year})");
                break;

            case "4":
                Console.WriteLine("–ü–æ–∏—Å–∫ –ø–æ 1. id | 2. –ù–∞–∑–≤–∞–Ω–∏—é | 3. –ê–≤—Ç–æ—Ä—É | 4. –ì–æ–¥—É");
                var choiceFind = Console.ReadLine();
                Console.Write("–í–≤–æ–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª: ");
                var keyword = Console.ReadLine();

                foreach (var b in library.SearchBooks(choiceFind,keyword))
                    Console.WriteLine($"{b.Id}. {b.Title} ({b.Author}, {b.Year})");
                break;

            case "5":
                FileManager.SaveToCsv(library.GetAllBooks(),"books.csv");
                return;
        }
    }
}
```
